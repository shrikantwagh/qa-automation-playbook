[pytest]
minversion = 7.0
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

addopts = 
    -v
    --strict-markers
    --tb=short
    --headed
    --browser=chromium
    --slowmo=100
    --screenshot=only-on-failure
    --video=retain-on-failure
    --tracing=retain-on-failure
    --output=test-results
    -p no:warnings

# Custom markers
markers =
    smoke: Smoke tests - critical path tests
    regression: Regression tests - full test suite
    elements: Tests for Elements section
    forms: Tests for Forms section
    
    # Element-specific markers
    text_box: Text Box page tests
    check_box: Check Box page tests
    radio_button: Radio Button page tests
    web_tables: Web Tables page tests
    buttons: Buttons page tests
    links: Links page tests
    broken_links: Broken Links and Images tests
    upload_download: Upload and Download tests
    dynamic_properties: Dynamic Properties tests
    
    # Test categories
    critical: Critical path tests
    parallel: Tests safe to run in parallel
    serial: Tests that must run serially
    slow: Tests that take longer to run

# Logging
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

log_file = logs/pytest.log
log_file_level = DEBUG
log_file_format = %(asctime)s [%(levelname)8s] [%(filename)s:%(lineno)s] %(message)s
log_file_date_format = %Y-%m-%d %H:%M:%S

# Timeout settings
timeout = 300
timeout_method = thread

# Parallel execution
# To run tests in parallel: pytest -n auto
# Install: pip install pytest-xdist
